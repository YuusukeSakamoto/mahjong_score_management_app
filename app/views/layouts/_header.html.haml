%header
  .container
    // header上部
    //　≧ 768px
    .upper-contents.mt-3.d-none.d-md-block
      .col
        .d-flex.justify-content-between.align-items-center
          = link_to image_tag('logo.png',width: '180px',alt: "logo", class: "img-fluid"), root_path
          - if user_signed_in?
            // ログイン時
            .right-contents
              .d-flex.align-items-center
                %p.m-0.px-2.text-green.text-center{style: "font-size: 14px;"}= current_user.name
                .header-icon
                  - if current_user.avatar.present?
                    = image_tag current_user.avatar.url, class: 'rounded-circle border', alt: 'icon'
                  - else
                    = image_tag 'default_icon.png', class: 'rounded-circle', alt: 'icon'
                = link_to 'ログアウト', destroy_user_session_path, class: 'fs-sm ms-2 text-main'
          - else
            // ログアウト時
            .right-contents
              .d-flex.align-items-center
                = link_to 'ログイン', new_user_session_path, class: "me-2 text-main fs-sm"
                = link_to 'アカウント登録', new_user_registration_path, 
                  class: "btn rounded-pill text-white bg-green me-2 px-2 py-1 fs-sm"

    // header下部 
    %nav.navbar.navbar-light.navbar-expand-md.bg-white.py-md-0.mt-md-1
      .col
        .d-flex.justify-content-between.justify-content-md-center.align-items-center
          .d-md-none
            = link_to image_tag('logo.png',width: '180px',alt: "logo", class: "img-fluid"), root_path
          - if user_signed_in?
            // ログイン時
            //　≧ 768px
            .d-flex.align-items-center.position-relative
              %nav#dropdown-nav.d-none.d-md-block
                %ul
                  %li
                    = link_to 'TOP', root_path , class: "text-nowrap current"
                  %li.has-child.d-flex.flex-column.align-items-center
                    %a.text-nowrap.current{href: "#"} 対局成績
                    %ul
                      %li.child= link_to '個人成績詳細', player_path(current_player)
                      %li.child= link_to '成績表一覧', match_groups_path
                      %li.child= link_to '対局一覧', matches_path(p_id: current_player.id)
                  %li.has-child.d-flex.flex-column.align-items-center
                    %a.text-nowrap.current{href: "#"} リーグ対局
                    %ul
                      %li.child= link_to 'リーグ作成', new_league_path(p_id: current_player.id)
                      %li.child= link_to 'リーグ一覧', leagues_path, data: { "turbolinks" => false }
                  %li.has-child.d-flex.flex-column.align-items-center
                    %a.text-nowrap.current{href: "#"} ルール
                    %ul
                      %li.child= link_to 'ルール登録', new_player_rule_path(current_player)
                      %li.child= link_to 'ルール一覧', player_rules_path(current_player)
                  %li.has-child.d-flex.flex-column.align-items-center
                    %a.text-nowrap.current{href: "#"} その他
                    %ul
                      %li.child= link_to 'アカウント招待', players_invitations_path
                      %li.child= link_to 'Q&A', "#"
              //　≦ 768px
              #hamburger_menu.d-md-none
                .openbtn
                  %span
                  %span
                  %span
                %nav#g-nav
                  #g-nav-list
                    %ul
                      %li
                        .nav-icon
                          = image_tag current_user.avatar.url, class: 'rounded-circle', alt: 'icon'
                        %span ID : #{current_player.id}
                        =link_to "#{current_user.name}", edit_user_registration_path, class: "border-b"
                      %li= link_to 'TOP', root_path, class: "border-b"
                      %li= link_to '個人成績詳細', player_path(current_player)
                      %li= link_to '成績表一覧', match_groups_path
                      %li= link_to '対局一覧', matches_path(p_id: current_player.id), class: "border-b"
                      %li= link_to 'リーグ作成', new_league_path(p_id: current_player.id)
                      %li= link_to 'リーグ一覧', leagues_path, class: "border-b",data: { "turbolinks" => false }
                      %li= link_to 'ルール登録', new_player_rule_path(current_player)
                      %li= link_to 'ルール一覧', player_rules_path(current_player), class: "border-b"
                      %li= link_to 'アカウント招待', players_invitations_path, class: "border-b"
                      %li= link_to 'Q&A', "#", class: "border-b"
                      %li= link_to 'ログアウト', destroy_user_session_path, class: "border-b"
          - else
            // ログアウト時
            //　≧ 768px
            .d-flex.align-items-center.position-relative
              %nav#dropdown-nav.d-none.d-md-block
                %ul
                  %li
                    = link_to 'TOP', root_path , class: "text-nowrap current"
                  %li.has-child.d-flex.flex-column.align-items-center
                    %a.text-nowrap.current{href: "#"} 対局成績
                    %ul
                      %li.child= link_to '個人成績詳細', "#"
                      %li.child= link_to '対局一覧', "#"
                  %li.has-child.d-flex.flex-column.align-items-center
                    %a.text-nowrap.current{href: "#"} ルール
                    %ul
                      %li.child= link_to '新規登録', "#"
                      %li.child= link_to 'ルール一覧', "#"
                  %li.has-child.d-flex.flex-column.align-items-center
                    %a.text-nowrap.current{href: "#"} プレイヤー情報
                    %ul
                      %li.child= link_to '仮', '#'
                      %li.child= link_to '仮', "#"
              //　≦ 768px
              #hamburger_menu.d-md-none
                .openbtn.d-md-none
                  %span
                  %span
                  %span
                %nav#g-nav
                  #g-nav-list
                    %ul
                      %li= link_to 'TOP', root_path
                      %li= link_to 'アカウント登録', new_user_registration_path
                      %li= link_to 'ログイン', new_user_session_path