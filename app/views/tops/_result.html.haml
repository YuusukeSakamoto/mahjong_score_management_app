.row.justify-content-center
  .col-11.border-bold-green.rounded.text-main.px-0
    %h4.text-center.m-4.fw-bold 対戦成績 (#{players_num}麻雀)
    .border-top.border-bottom.bg-light-green.d-flex.flex-column.flex-md-row.justify-content-evenly.text-center.fw-bold.mb-4
      .d-flex.flex-column.align-items-center.flex-md-row
        .d-flex.justify-content-evenly.w-75
          %p.my-1.my-md-2.mx-2.text-nowrap= "総対戦数  #{@player.total_match_count}戦"
          %p.my-1.my-md-2.mx-2.text-nowrap= "総合pt  #{@player.total_point}pt"
        .d-flex.justify-content-evenly.w-75
          %p.my-1.my-md-2.mx-2= "平均順位  #{@player.average_rank}位"
          %p.my-1.my-md-2.mx-2= "連対率  #{@player.average_rank}%"
    .d-flex.flex-column.align-items-center.flex-md-row.align-items-md-start
      .col-10.col-md-6.px-3
        %p.border-green.bg-light-green.rounded.text-center.fw-bold.py-1 順位率
        %table.table.table-bordered.text-nowrap.px-3.text-center
          - @player.rank_rate.zip(@player.rank_times).each_with_index do |rate_time, i|
            %tr
              %td.px-3{scope: "row"}= "#{i + 1}位"
              %td.px-2= "#{rate_time[0]}% (#{rate_time[1]}回)"

      .col-10.col-md-6.pe-md-3.px-3
        %p.border-green.bg-light-green.rounded.text-center.fw-bold.py-1 直近の対戦
        %table.table.text-center
          - @matches.each do |match| 
            %tr
              %td.p-025.px-0= match.match_on.strftime('%m/%d')
              - if match.results.find_by(player_id: current_user.player.id).point >= 0
                %td.p-025.plus-color.fw-bold= sprintf("%+.1f", match.results.find_by(player_id: current_user.player.id).point)
              - else    
                %td.p-025.minus-color.fw-bold= sprintf("%+.1f", match.results.find_by(player_id: current_user.player.id).point)

              %td.p-025.px-2= link_to '詳細', match_path(match), class: 'border-lightgray rounded text-gray w-50 m-auto text-nowrap' 

          -if @matches.blank?
            %p.text-main= "対局成績なし"
    .col-7.col-md-5.m-auto
      = link_to "#{players_num}麻雀の成績一覧を見る", matches_path, 
        class: "btn d-block rounded fw-bold box-shadow text-white px-2 py-2 mb-3 bg-orange"

.border-bottom.border-2.pt-4.mb-4.w-100